---
id: api
title: "API仕様"
tags:
  - API
---


## 概要

- タノミマスターの操作はREST APIによっても操作できます。
- REST APIの種別は大きく3種類に分けられており、共通、小売、メーカーに分かれています。
共通は、タノミマスターのシステムで利用しているマスタやカテゴリなどの取得、小売とメーカー向けのAPIはマスタの管理、受注の管理のためのAPIです。
- 稼働中のAPI仕様は以下のURLで閲覧できます。
  - https://tanomimaster.com/docs/api

## API実装の方向性

- Web上で行える操作はREST APIでも同様に操作できるようになっています。
- API仕様は幅広く意見や参加者を募集したいのでOSSとして公開しております。
  - https://github.com/tanomimaster/tanomimaster-openapi

## 動作環境

開発環境、ステージング環境、本番環境の3つの環境があります。エンドポイントはAPI仕様に記載してあります。


## APIキー

REST APIを呼び出すためにはキーが必要になります。小売単位、メーカー単位で1つ発行できます。

## API呼び出しの仕様

### 受注確定処理

メーカー向けに受注確定を行う際の推奨事項を記載します。

メーカーが受注確定をしていない注文は、小売側からキャンセルが可能になっています。そのため、下の図で示す2と3の間に小売からキャンセルが行われます。できるだけそのパターンをへらすために2と3の呼び出しの感覚は短くすることを推奨します。

また、受注確定をする前にメーカー内での受注処理を行ってしまうと小売からキャンセルになる可能性があるためタノミマスター上で受注確定を行ってからメーカー内で受注に関する処理を行うことを推奨します。

![alt-text](/img/order-confirm-sequence.png)

