---
title: v3.12.17 Release
tags: [release]
authors: [matsubokkuri]
---


## 🏭 メーカー向け機能改善

### 🔍 注文管理機能強化
- **注文商品検索の大幅改善**
  - 納品年月での検索機能を新規追加
  - 小売営業所での絞り込み機能を追加
  - 検索条件の組み合わせが可能（注文年月 + 納品年月 + 小売）

- **CSVエクスポート機能の改善**
  - ファイル名に小売コードを自動追加
  - 検索条件に応じた適切なファイル名生成
  - エクスポート時のバリデーション強化

### 📊 データ表示の最適化
- 注文商品一覧の表示パフォーマンス向上
- 複数条件検索時の処理速度改善

---

## 🏪 小売向け機能改善

### 🛒 カート機能の大幅リニューアル
- **UI/UXの全面改善**
  - モダンなカードベースデザインに刷新
  - 商品情報の視認性向上
  - レスポンシブデザインの最適化

- **操作性の向上**
  - 商品削除時の確認ダイアログを追加
  - 数量変更の操作感改善
  - エラーハンドリングの強化

- **関連商品表示の改善**
  - デフォルトで関連商品を展開表示
  - 関連商品からの直接カート追加機能
  - ガス種選択UIの改善

### 📱 商品詳細ページ強化
- **画像表示機能の改善**
  - タッチスワイプ対応の画像カルーセル
  - キーボードナビゲーション対応
  - 画像の遅延読み込み機能
  - 拡大表示モーダルの改善

- **商品情報表示の充実**
  - 商品属性（サブマスタ）の表示を追加
  - 価格情報の視認性向上
  - タブ機能による情報整理

### 📋 注文・履歴管理の改善
- **注文完了画面の改善**
  - より直感的なデザインに変更
  - 注文内容確認へのスムーズな遷移

- **注文履歴表示の最適化**
  - カード型レイアウトの採用
  - 注文情報の整理と視認性向上
  - 空状態時のユーザーガイダンス追加

### ⭐ レビュー機能の改善
- レビュー投稿画面のUI刷新
- 評価入力の操作性向上
- 商品情報表示の最適化

---

## 🔧 システム関連改善

### 🚀 技術基盤の強化
- **Ruby バージョンアップ**: 3.4.1 → 3.4.3
- **依存関係の更新**:
  - axios: 1.8.2 → 1.9.0
  - form-data: 4.0.1 → 4.0.2
  - セキュリティパッチの適用

### 🏗️ アーキテクチャ改善
- **コード品質向上**
  - Rails 7のモダンなenum記法に統一
  - 不要なコードの削除とリファクタリング
  - 定数定義の適切な配置

- **バリデーション強化**
  - 電話番号バリデーションの改善（Phonelib設定最適化）
  - 画像ファイルのバリデーション強化
  - 入力検証の改善

### 🔄 CI/CD・開発環境改善
- **GitHub Actions強化**
  - リリースドラフター機能の追加
  - 環境別デプロイメント設定の改善
  - 自動リリース作成機能

- **開発体験の向上**
  - Claude Code対応ドキュメント追加（CLAUDE.md）
  - VSCode設定ファイルの追加
  - gitignore設定の改善

### 🧪 テスト・品質管理
- **テストコードの改善**
  - RSpecの`include_examples`を`it_behaves_like`に統一
  - テストの可読性向上
  - APIテストの改善

- **コード品質管理**
  - RuboCop設定の最適化
  - 静的解析の強化
  - コードレビュー品質の向上

### 🔒 セキュリティ強化
- 依存関係の脆弱性修正
- セキュリティヘッダーの改善
- 入力値検証の強化

---

## 🐛 バグ修正

### メーカー向け
- 注文商品検索時の例外処理改善
- CSVエクスポート時のファイル名生成修正

### 小売向け
- カート操作時のエラーハンドリング改善
- 商品画像表示の最適化
- フォームバリデーションの修正

### システム全般
- Integer型変換処理の例外処理改善
- 定数スコープの適切な修正
- パフォーマンス最適化


https://github.com/tanomimaster/tanomimaster-www/compare/v3.12.16...v3.12.17
